{"version":3,"sources":["webpack://BrukerTools/webpack/universalModuleDefinition","webpack://BrukerTools/webpack/bootstrap","webpack://BrukerTools/./src/index.js","webpack://BrukerTools/./src/iconnmr/Icon.js","webpack://BrukerTools/../src/FileSaver.js","webpack://BrukerTools/(webpack)/buildin/global.js","webpack://BrukerTools/./src/createSelect.js","webpack://BrukerTools/./src/createRadios.js","webpack://BrukerTools/./src/createCheckboxes.js","webpack://BrukerTools/./src/formToJSON.js","webpack://BrukerTools/./src/iconnmr/generateFile.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Icon","require","FileSaver","createSelect","createRadios","createCheckboxes","formToJSON","generateFile","prefs","options","arguments","length","undefined","instrument","solvents","experiments","composites","startElement","startID","document","getElementById","instrumentElement","instrumentID","formElement","formID","iconTextElement","iconTextID","errosElement","errorsID","form","setInstrument","innerHTML","createSolventSelect","id","createCompositeRadios","createExperimentCheckboxes","start","save","console","log","monitorForm","addEventListener","createTextFile","isPriority","arrayOfExperimentIDs","priority","experimentID","experiment","label","errors","holder","push","user","solvent","code","composite","Array","isArray","unshift","join","style","display","request","batch","title","map","text","deleteExistingHolder","autoSubmit","blob","Blob","type","saveAs","$","dialog","modal","open","setTimeout","window","location","reload","b","e","XMLHttpRequest","responseType","onload","a","response","onerror","error","send","status","dispatchEvent","MouseEvent","createEvent","initMouseEvent","f","global","HTMLAnchorElement","g","h","URL","webkitURL","j","createElement","download","rel","href","origin","target","createObjectURL","revokeObjectURL","navigator","msSaveOrOpenBlob","autoBom","warn","test","body","innerText","HTMLElement","safari","userAgent","FileReader","onloadend","result","replace","readAsDataURL","k","Function","array","Error","select","item","option","description","selected","appendChild","div","className","input","createTextNode","explanation","setJpath","jpath","parts","split","current","part","nextPart","isNaN","nodeName","elements","checked","values","getHolder","position","plateNumber","positionToNumber","width","string","toUpperCase","number","charCodeAt","stringToNumber","requests","_options$eol","eol","_options$plateNumber","_options$deleteExisti","_options$autoSubmit","textFile","experimentNumber","parameters","parameter"],"mappings":"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","file":"bruker-tools.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"BrukerTools\"] = factory();\n\telse\n\t\troot[\"BrukerTools\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","'use strict';\n\nmodule.exports = {\n  Icon: require('./iconnmr/Icon.js')\n};\n","'use strict';\n\nconst FileSaver = require('file-saver');\n\nconst createSelect = require('../createSelect.js');\nconst createRadios = require('../createRadios.js');\nconst createCheckboxes = require('../createCheckboxes.js');\nconst formToJSON = require('../formToJSON');\n\nconst generateFile = require('./generateFile');\n\nfunction Icon(prefs, options = {}) {\n  this.instrument = prefs.instrument || 'NMR spectrometer';\n  this.solvents = prefs.solvents || [];\n  this.experiments = prefs.experiments || [];\n  this.composites = prefs.composites || [];\n  this.startElement = options.startID\n    ? document.getElementById(options.startID)\n    : undefined;\n  this.instrumentElement = options.instrumentID\n    ? document.getElementById(options.instrumentID)\n    : undefined;\n  this.formElement = options.formID\n    ? document.getElementById(options.formID)\n    : undefined;\n  this.iconTextElement = options.iconTextID\n    ? document.getElementById(options.iconTextID)\n    : undefined;\n  this.errosElement = options.errorsID\n    ? document.getElementById(options.errorsID)\n    : undefined;\n  this.form = {};\n}\n\nIcon.prototype.setInstrument = function () {\n  if (this.instrumentElement) {\n    this.instrumentElement.innerHTML = this.instrument;\n  }\n};\n\nIcon.prototype.createSolventSelect = function createSolventSelect(id) {\n  createSelect(id, 'solvent', this.solvents);\n};\n\nIcon.prototype.createCompositeRadios = function createCompositeRadios(id) {\n  createRadios(id, 'composite', this.composites);\n};\n\nIcon.prototype.createExperimentCheckboxes = function createExperimentCheckboxes(\n  id\n) {\n  createCheckboxes(id, 'experiments', this.experiments);\n};\n\nIcon.prototype.start = function start() {\n  this.save();\n  console.log('DONE');\n};\n\nIcon.prototype.monitorForm = function monitorForm(i) {\n  this.formElement.addEventListener('keyup', () => {\n    this.createTextFile();\n  });\n  this.formElement.addEventListener('click', () => {\n    this.createTextFile();\n  });\n  this.createTextFile();\n};\n\nIcon.prototype.isPriority = function (arrayOfExperimentIDs) {\n  let priority = true;\n  for (let experimentID of arrayOfExperimentIDs) {\n    for (let experiment of this.experiments) {\n      if (experiment.label === experimentID) {\n        priority &= experiment.priority;\n        break;\n      }\n    }\n  }\n  return priority;\n};\n\nIcon.prototype.createTextFile = function createTextFile() {\n  let form = formToJSON(this.formElement);\n  this.form = form;\n  let errors = [];\n  if (!form.holder) {\n    errors.push('Please specify the holder');\n  }\n  if (!form.user) {\n    errors.push('Please specify a username');\n  }\n  if (!form.solvent) {\n    errors.push('Please specify the solvent');\n  }\n  if (!form.code) {\n    errors.push('Please specify a sample code');\n  }\n  if (!form.experiments && !form.composite) {\n    errors.push('Please select at least one experiment');\n  }\n  if (!form.experiments) form.experiments = [];\n  if (!Array.isArray(form.experiments)) {\n    form.experiments = [form.experiments];\n  }\n  if (form.composite) form.experiments.unshift(form.composite);\n  if (errors.length > 0) {\n    this.errosElement.innerHTML = errors.join('<br>');\n    this.startElement.style.display = 'none';\n    return;\n  } else {\n    this.errosElement.innerHTML = '';\n    this.startElement.style.display = 'block';\n  }\n\n  // need to convert form to requests\n  // we check if all the experiments have the priority flag\n  let priority = this.isPriority(form.experiments);\n  let request = {\n    solvent: form.solvent,\n    holder: form.holder,\n    user: form.user,\n    name: `${form.code} ${form.batch}`,\n    title: `user:${form.user}  code:${form.code} batch:${form.batch}`,\n    experiments: form.experiments.map((value) => {\n      return { experiment: value, priority };\n    })\n  };\n  let text = generateFile([request], {\n    deleteExistingHolder: true,\n    autoSubmit: true\n  });\n  this.iconTextElement.innerHTML = text;\n  this.text = text;\n};\n\nIcon.prototype.save = function save() {\n  var blob = new Blob([this.text], {\n    type: 'text/plain;charset=utf-8'\n  });\n  FileSaver.saveAs(\n    blob,\n    `${this.form.user}_${this.form.code}_${this.form.batch}.txt`\n  );\n\n  if ($('#confirm').length) {\n    var title;\n    if ($('#confirm span').length) {\n      title = $('#confirm span').text();\n    }\n    $('#confirm div').dialog({\n      title: title,\n      modal: true,\n      open: () => {\n        setTimeout(function () {\n          window.location.reload();\n        }, 5000);\n      }\n    });\n  }\n};\n\nmodule.exports = Icon;\n","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  xhr.send()\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click(node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile)\n  : 'download' in HTMLAnchorElement.prototype\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari)) && typeof FileReader === 'object') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nfunction createSelect(id, name, array) {\n  let target = document.getElementById(id);\n  if (!target) throw new Error(`Element ${target} not found`);\n  let select = document.createElement('select');\n  select.name = name;\n  select.id = name;\n  for (let item of array) {\n    let option = document.createElement('option');\n    option.value = item.label;\n    option.innerHTML = item.description;\n    if (item.selected) {\n      option.selected = 'selected';\n    }\n    select.appendChild(option);\n  }\n  target.innerHTML = '';\n  target.appendChild(select);\n}\n\nmodule.exports = createSelect;\n","'use strict';\n\nfunction createRadios(id, name, array) {\n  let target = document.getElementById(id);\n  target.innerHTML = '';\n  if (!target) throw new Error(`Element ${target} not found`);\n  for (let item of array) {\n    let div = document.createElement('div');\n    div.className = 'spaced';\n    let input = document.createElement('input');\n    input.type = 'radio';\n    input.name = name;\n    input.id = name;\n    input.value = item.label;\n    div.appendChild(input);\n    div.appendChild(document.createTextNode(item.label));\n    div.appendChild(document.createElement('br'));\n    let explanation = document.createElement('span');\n    explanation.className = 'explanation';\n    explanation.appendChild(document.createTextNode(item.description));\n    div.appendChild(explanation);\n    target.appendChild(div);\n  }\n}\n\nmodule.exports = createRadios;\n","'use strict';\n\nfunction createCheckboxes(id, name, array) {\n  let target = document.getElementById(id);\n  target.innerHTML = '';\n  if (!target) throw new Error(`Element ${target} not found`);\n  for (let item of array) {\n    let div = document.createElement('div');\n    div.className = 'spaced';\n    let input = document.createElement('input');\n    input.type = 'checkbox';\n    input.name = name;\n    input.value = item.label;\n    div.appendChild(input);\n    div.appendChild(document.createTextNode(item.label));\n    div.appendChild(document.createElement('br'));\n    let explanation = document.createElement('span');\n    explanation.className = 'explanation';\n    explanation.appendChild(document.createTextNode(item.description));\n    div.appendChild(explanation);\n    target.appendChild(div);\n  }\n}\n\nmodule.exports = createCheckboxes;\n","'use strict';\n\nfunction formToJSON(form) {\n  if (!form || form.nodeName !== 'FORM') {\n    return;\n  }\n  let result = {};\n  var i;\n  var j;\n  var q = [];\n  for (i = form.elements.length - 1; i >= 0; i = i - 1) {\n    if (form.elements[i].name === '') {\n      continue;\n    }\n    switch (form.elements[i].nodeName) {\n      case 'INPUT':\n        switch (form.elements[i].type) {\n          case 'text':\n          case 'hidden':\n          case 'number':\n          case 'password':\n          case 'button':\n          case 'reset':\n          case 'submit':\n            setJpath(result, form.elements[i].name, form.elements[i].value);\n            break;\n          case 'checkbox':\n            if (form.elements[i].checked) {\n              setJpath(result, form.elements[i].name, form.elements[i].value);\n            }\n            break;\n          case 'radio':\n            if (form.elements[i].checked) {\n              setJpath(result, form.elements[i].name, form.elements[i].value);\n            }\n            break;\n          case 'file':\n            break;\n          default:\n        }\n        break;\n      case 'TEXTAREA':\n        setJpath(result, form.elements[i].name, form.elements[i].value);\n        break;\n      case 'SELECT':\n        switch (form.elements[i].type) {\n          case 'select-one':\n            setJpath(result, form.elements[i].name, form.elements[i].value);\n            break;\n          case 'select-multiple':\n            let values = [];\n            for (j = form.elements[i].options.length - 1; j >= 0; j = j - 1) {\n              if (form.elements[i].options[j].selected) {\n                values.push(form.elements[i].options[j].value);\n              }\n            }\n            setJpath(result, form.elements[i].name, values);\n            break;\n          default:\n        }\n        break;\n      case 'BUTTON':\n        switch (form.elements[i].type) {\n          case 'reset':\n          case 'submit':\n          case 'button':\n            setJpath(result, form.elements[i].name, form.elements[i].value);\n            break;\n          default:\n        }\n        break;\n      default:\n    }\n  }\n  return result;\n}\n\nfunction setJpath(object, jpath, value) {\n  let parts = jpath.split('.');\n  let current = object;\n  for (let i = 0; i < parts.length; i++) {\n    let part = parts[i];\n    let nextPart = parts[i + 1];\n    if (i === parts.length - 1) {\n      if (current[part]) {\n        if (!Array.isArray(current[part])) current[part] = [current[part]];\n        current[part].push(value);\n      } else {\n        current[part] = value;\n      }\n    } else if (isNaN(nextPart)) {\n      if (!current[part]) current[part] = {};\n      current = current[part];\n    } else {\n      if (!current[part]) current[part] = [];\n      current = current[part];\n    }\n  }\n}\n\nmodule.exports = formToJSON;\n","'use strict';\n\n/**\n * @param {array} [requests]\n * @param {object} [options={}]\n * @param {string} [options.eol='\\r\\n'] end of line delimiter\n * @param {boolean} [options.deleteExistingHolder=false]  flag specifying if existing experiments should be deleted\n * @param {number} [options.plateNumber=1] the position of the plate\n * @param {boolean} [options.autoSubmit=false]\n */\n\nfunction generateFile(requests, options = {}) {\n  const {\n    eol = '\\r\\n',\n    plateNumber = 1,\n    deleteExistingHolder = false,\n    autoSubmit = false\n  } = options;\n\n  var textFile = [];\n\n  if (!Array.isArray(requests)) requests = [requests];\n\n  for (var request of requests) {\n    var holder = request.holder || getHolder(request.position, plateNumber);\n    var experimentNumber =\n      request.experimentNumber || request.position\n        ? getExperimentNumber(request.position)\n        : 1;\n    if (deleteExistingHolder) {\n      textFile.push(`USER ${request.user}`);\n      textFile.push(`HOLDER ${holder}`);\n      textFile.push('DELETE'); // this is required to delete already existing entries\n    }\n    textFile.push(`USER ${request.user}`);\n    textFile.push(`HOLDER ${holder}`);\n    if (!autoSubmit) textFile.push('NO_SUBMIT');\n    textFile.push(`NAME ${request.name.replace(/ /g, '_')}`);\n    for (var experiment of request.experiments) {\n      textFile.push(`EXPNO ${experimentNumber++}`);\n      if (experiment.priority) {\n        textFile.push('PRIORITY');\n      }\n      textFile.push(`SOLVENT ${experiment.solvent || request.solvent}`);\n      textFile.push(`EXPERIMENT ${experiment.experiment}`);\n      textFile.push(`TITLE ${request.title || request.name}`);\n      if (experiment.parameters && experiment.parameters.length > 0) {\n        var parameters = [];\n        for (var parameter of experiment.parameters) {\n          parameters.push(parameter.label, parameter.value);\n        }\n        textFile.push(`PARAMETERS ${parameters.join(',')}`);\n      }\n    }\n    textFile.push('END');\n    textFile.push('');\n  }\n  return textFile.join(eol);\n}\n\nfunction getHolder(position, plateNumber) {\n  return plateNumber * 100 + positionToNumber(position, 12);\n}\n\nfunction getExperimentNumber(position) {\n  return positionToNumber(position, 12) * 10;\n}\n\n/*\n Convert 'A5' to\n */\nfunction positionToNumber(position, width) {\n  if (width === undefined) {\n    throw Error('need to specify width for numberToPosition');\n  }\n  position = position.toUpperCase().replace(/[^0-9A-Z]/g, '');\n  var string = position.replace(/[0-9]+/, '');\n  var number = position.replace(/[A-Z]+/, '');\n  return (stringToNumber(string) - 1) * width + number * 1;\n}\n\nfunction numberToPosition(number, width) {\n  if (width === undefined) {\n    throw Error('need to specify width for numberToPosition');\n  }\n  number--;\n  return (\n    numberToString(Math.floor(number / width) + 1) + ((number % width) + 1)\n  );\n}\n\nfunction stringToNumber(string) {\n  var number = 0;\n  for (var i = 0; i < string.length; i++) {\n    number *= 26;\n    number += string.charCodeAt(i) - 64;\n  }\n  return number;\n}\n\nfunction numberToString(number) {\n  var string = '';\n  while (number != 0) {\n    string = String.fromCharCode(((number - 1) % 26) + 65) + string;\n    number = Math.floor((number - 1) / 26);\n  }\n  return string;\n}\n\nmodule.exports = generateFile;\n"],"sourceRoot":""}